branches:
  only:
    - master
node_js:
  - '14.7'
os: 
  linux 
arch:
  arm64 
before_install:
  - sudo apt-get update
  - curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
  - nvm install 14.7
  - nvm use 14.7
  - npm install -g npm@latest
  - npm install -g typescript
  - sudo apt-get install xvfb
  - sudo systemctl start xvfb
  - wget -q https://packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb
  - sudo dpkg -i packages-microsoft-prod.deb
  - sudo apt-get install apt-transport-https
  - sudo apt-get update
  - sudo apt-get install dotnet-hosting-2.0.6
  # - npm install -g @vue/cli
  # - sudo apt-get install chromium-browser
install:
  - cd bot
  - npm i
  - npm i --only=dev
  - tsc
  - cd ..
  # - cd backend
  # - npm i 
  # - npm i --only=dev
  # - tsc
  # - cd ..
  # - cd frontend
  # - npm i 
  # - cd ..
  
script: 
  - npm run test --prefix bot
  # - npm run build --prefix frontend
  